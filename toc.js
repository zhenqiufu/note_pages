// Populate the sidebar
//
// This is a script, and not included directly in the page, to control the total size of the book.
// The TOC contains an entry for each page, so if each page includes a copy of the TOC,
// the total size of the page becomes O(n**2).
class MDBookSidebarScrollbox extends HTMLElement {
    constructor() {
        super();
    }
    connectedCallback() {
        this.innerHTML = '<ol class="chapter"><li class="chapter-item "><a href="index.html"><strong aria-hidden="true">1.</strong> 前言</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/index.html"><strong aria-hidden="true">2.</strong> 基石篇  硬件接口与协议深度图鉴</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/CXL/index.html"><strong aria-hidden="true">2.1.</strong> CXL</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/CXL/01_cxl.html"><strong aria-hidden="true">2.1.1.</strong> cxl</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/CXL/02_cxl_type3.html"><strong aria-hidden="true">2.1.2.</strong> cxl type3</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/CXL/02_cxl_type3_config.html"><strong aria-hidden="true">2.1.3.</strong> cxl type3 config</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/CXL/03_cxl_type3_hdm_decoder.html"><strong aria-hidden="true">2.1.4.</strong> cxl type3 hdm decoder</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/CXL/04_cxl_dvsec.html"><strong aria-hidden="true">2.1.5.</strong> cxl dvsec</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/CXL/CXL_in_CMN.html"><strong aria-hidden="true">2.1.6.</strong> CXL in CMN</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/CXL/CXL_in_SCP.html"><strong aria-hidden="true">2.1.7.</strong> CXL in SCP</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/CXL/UCIe.html"><strong aria-hidden="true">2.1.8.</strong> UCIe</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/CXL/cxl_reg.html"><strong aria-hidden="true">2.1.9.</strong> cxl reg</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/CXL/cxl枚举.html"><strong aria-hidden="true">2.1.10.</strong> cxl枚举</a></li></ol></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/DDR/index.html"><strong aria-hidden="true">2.2.</strong> DDR</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/DDR/01_Introduction.html"><strong aria-hidden="true">2.2.1.</strong> Introduction</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/DDR/02_DDR_MC.html"><strong aria-hidden="true">2.2.2.</strong> DDR MC</a></li></ol></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/HBM/index.html"><strong aria-hidden="true">2.3.</strong> HBM</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/index.html"><strong aria-hidden="true">2.4.</strong> PCIe</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/index.html"><strong aria-hidden="true">2.4.1.</strong> PCIe协议</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/00_Introduction.html"><strong aria-hidden="true">2.4.1.1.</strong> Introduction</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/01_ConfigSpace.html"><strong aria-hidden="true">2.4.1.2.</strong> ConfigSpace</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/02_1_tlp_flow_control.html"><strong aria-hidden="true">2.4.1.3.</strong> 1 tlp flow control</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/02_2_tlp_QoS.html"><strong aria-hidden="true">2.4.1.4.</strong> 2 tlp QoS</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/02_3_Transaction_Ordering.html"><strong aria-hidden="true">2.4.1.5.</strong> 3 Transaction Ordering</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/03_pcie_eq.html"><strong aria-hidden="true">2.4.1.6.</strong> pcie eq</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/04_pcie_aer.html"><strong aria-hidden="true">2.4.1.7.</strong> pcie aer</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/05_PCIe_clk.html"><strong aria-hidden="true">2.4.1.8.</strong> PCIe clk</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/06_pcie_reset.html"><strong aria-hidden="true">2.4.1.9.</strong> pcie reset</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/TransactionLayer.html"><strong aria-hidden="true">2.4.1.10.</strong> TransactionLayer</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/data_link_layer.html"><strong aria-hidden="true">2.4.1.11.</strong> data link layer</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/ltssm_timeout.html"><strong aria-hidden="true">2.4.1.12.</strong> ltssm timeout</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/physical_layer.html"><strong aria-hidden="true">2.4.1.13.</strong> physical layer</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/00_PCIe协议/post_nonpost.html"><strong aria-hidden="true">2.4.1.14.</strong> post nonpost</a></li></ol></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/01_PCIe子系统简介/index.html"><strong aria-hidden="true">2.4.2.</strong> PCIe子系统简介</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/01_PCIe子系统简介/01_PCIe子系统.html"><strong aria-hidden="true">2.4.2.1.</strong> PCIe子系统</a></li></ol></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/02_PCIe枚举与资源分配/index.html"><strong aria-hidden="true">2.4.3.</strong> PCIe枚举与资源分配</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/02_PCIe枚举与资源分配/EDK2对optionRom的支持.html"><strong aria-hidden="true">2.4.3.1.</strong> EDK2对optionRom的支持</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/02_PCIe枚举与资源分配/枚举过程中的资源降级.html"><strong aria-hidden="true">2.4.3.2.</strong> 枚举过程中的资源降级</a></li></ol></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/03_PCIe高级特性/index.html"><strong aria-hidden="true">2.4.4.</strong> PCIe高级特性</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/03_PCIe高级特性/PCIe_AER.html"><strong aria-hidden="true">2.4.4.1.</strong> PCIe AER</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/03_PCIe高级特性/PCIe_DPC.html"><strong aria-hidden="true">2.4.4.2.</strong> PCIe DPC</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/03_PCIe高级特性/PCIe_Hot_Plug.html"><strong aria-hidden="true">2.4.4.3.</strong> PCIe Hot Plug</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/03_PCIe高级特性/PCIe_Interrupt.html"><strong aria-hidden="true">2.4.4.4.</strong> PCIe Interrupt</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/03_PCIe高级特性/PCIe_Power_management.html"><strong aria-hidden="true">2.4.4.5.</strong> PCIe Power management</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/03_PCIe高级特性/PCIe_SRIOV.html"><strong aria-hidden="true">2.4.4.6.</strong> PCIe SRIOV</a></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/PCIe/03_PCIe高级特性/PCIe_resizebar.html"><strong aria-hidden="true">2.4.4.7.</strong> PCIe resizebar</a></li></ol></li></ol></li><li class="chapter-item "><a href="01__基石篇__硬件接口与协议深度图鉴/UCIE/index.html"><strong aria-hidden="true">2.5.</strong> UCIE</a></li></ol></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/index.html"><strong aria-hidden="true">3.</strong> 架构篇  核心计算架构深度解析</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/01_SMMU/index.html"><strong aria-hidden="true">3.1.</strong> SMMU</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/01_SMMU/SMMU.html"><strong aria-hidden="true">3.1.1.</strong> SMMU</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/01_SMMU/SVA.html"><strong aria-hidden="true">3.1.2.</strong> SVA</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/01_SMMU/内存管理基础.html"><strong aria-hidden="true">3.1.3.</strong> 内存管理基础</a></li></ol></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/02_中断控制器/index.html"><strong aria-hidden="true">3.2.</strong> 中断控制器</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/02_中断控制器/GIC.html"><strong aria-hidden="true">3.2.1.</strong> GIC</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/02_中断控制器/RISCV_AIA.html"><strong aria-hidden="true">3.2.2.</strong> RISCV AIA</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/02_中断控制器/X86_APIC.html"><strong aria-hidden="true">3.2.3.</strong> X86 APIC</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/02_中断控制器/中断.html"><strong aria-hidden="true">3.2.4.</strong> 中断</a></li></ol></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/04_NoC片内互连总线/index.html"><strong aria-hidden="true">3.3.</strong> NoC片内互连总线</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/04_NoC片内互连总线/CHI.html"><strong aria-hidden="true">3.3.1.</strong> CHI</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/04_NoC片内互连总线/CMN700.html"><strong aria-hidden="true">3.3.2.</strong> CMN700</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/04_NoC片内互连总线/NI_700.html"><strong aria-hidden="true">3.3.3.</strong> NI 700</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/04_NoC片内互连总线/NoC_introduction.html"><strong aria-hidden="true">3.3.4.</strong> NoC introduction</a></li></ol></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/05_CortexM3/index.html"><strong aria-hidden="true">3.4.</strong> CortexM3</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/05_CortexM3/概述.html"><strong aria-hidden="true">3.4.1.</strong> 概述</a></li></ol></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/06_GPGPU/index.html"><strong aria-hidden="true">3.5.</strong> GPGPU</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/06_GPGPU/GPGPU体系结构.html"><strong aria-hidden="true">3.5.1.</strong> GPGPU体系结构</a></li></ol></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/07_存储/index.html"><strong aria-hidden="true">3.6.</strong> 存储</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/07_存储/RAID.html"><strong aria-hidden="true">3.6.1.</strong> RAID</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/07_存储/file_system.html"><strong aria-hidden="true">3.6.2.</strong> file system</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/07_存储/ssd.html"><strong aria-hidden="true">3.6.3.</strong> ssd</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/07_存储/分布式存储.html"><strong aria-hidden="true">3.6.4.</strong> 分布式存储</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/07_存储/存储分类.html"><strong aria-hidden="true">3.6.5.</strong> 存储分类</a></li></ol></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/08_虚拟化与分布式/index.html"><strong aria-hidden="true">3.7.</strong> 虚拟化与分布式</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/08_虚拟化与分布式/MIT6824.html"><strong aria-hidden="true">3.7.1.</strong> MIT6824</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/08_虚拟化与分布式/hypervisor.html"><strong aria-hidden="true">3.7.2.</strong> hypervisor</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/08_虚拟化与分布式/系统虚拟化原理与实现.html"><strong aria-hidden="true">3.7.3.</strong> 系统虚拟化原理与实现</a></li></ol></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/09_Memory_Consistency/index.html"><strong aria-hidden="true">3.8.</strong> Memory Consistency</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/09_Memory_Consistency/memory_consistency.html"><strong aria-hidden="true">3.8.1.</strong> memory consistency</a></li></ol></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/ARM_N2/index.html"><strong aria-hidden="true">3.9.</strong> ARM N2</a></li><li class="chapter-item "><a href="02__架构篇__核心计算架构深度解析/GPGPU/index.html"><strong aria-hidden="true">3.10.</strong> GPGPU</a></li></ol></li><li class="chapter-item "><a href="03__硅前篇__芯片设计仿真与验证/index.html"><strong aria-hidden="true">4.</strong> 硅前篇  芯片设计仿真与验证</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="03__硅前篇__芯片设计仿真与验证/UVM/index.html"><strong aria-hidden="true">4.1.</strong> UVM</a></li></ol></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/index.html"><strong aria-hidden="true">5.</strong> 实现篇  固件开发实战与框架解析</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/ARM/index.html"><strong aria-hidden="true">5.1.</strong> ARM</a></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/EDK2/index.html"><strong aria-hidden="true">5.2.</strong> EDK2</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/EDK2/10_rsa.html"><strong aria-hidden="true">5.2.1.</strong> rsa</a></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/EDK2/ARM固件启动顺序.html"><strong aria-hidden="true">5.2.2.</strong> ARM固件启动顺序</a></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/EDK2/Cache_as_ram.html"><strong aria-hidden="true">5.2.3.</strong> Cache as ram</a></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/EDK2/EDK2_EVENT.html"><strong aria-hidden="true">5.2.4.</strong> EDK2 EVENT</a></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/EDK2/EDK2_SYS_TABLE.html"><strong aria-hidden="true">5.2.5.</strong> EDK2 SYS TABLE</a></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/EDK2/EDK2_memmap.html"><strong aria-hidden="true">5.2.6.</strong> EDK2 memmap</a></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/EDK2/RISCV_firmware.html"><strong aria-hidden="true">5.2.7.</strong> RISCV firmware</a></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/EDK2/edk2_protocol.html"><strong aria-hidden="true">5.2.8.</strong> edk2 protocol</a></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/EDK2/uefi_boot_flow.html"><strong aria-hidden="true">5.2.9.</strong> uefi boot flow</a></li></ol></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/GPGPU/index.html"><strong aria-hidden="true">5.3.</strong> GPGPU</a></li><li class="chapter-item "><a href="04__实现篇__固件开发实战与框架解析/Power/index.html"><strong aria-hidden="true">5.4.</strong> Power</a></li></ol></li><li class="chapter-item "><a href="05__贯通篇__硬件_固件_内核协同设计/index.html"><strong aria-hidden="true">6.</strong> 贯通篇  硬件 固件 内核协同设计</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="05__贯通篇__硬件_固件_内核协同设计/FreeRTOS.html"><strong aria-hidden="true">6.1.</strong> FreeRTOS</a></li><li class="chapter-item "><a href="05__贯通篇__硬件_固件_内核协同设计/memory_copy.html"><strong aria-hidden="true">6.2.</strong> memory copy</a></li><li class="chapter-item "><a href="05__贯通篇__硬件_固件_内核协同设计/runtime_os.html"><strong aria-hidden="true">6.3.</strong> runtime os</a></li><li class="chapter-item "><a href="05__贯通篇__硬件_固件_内核协同设计/ACPI/index.html"><strong aria-hidden="true">6.4.</strong> ACPI</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="05__贯通篇__硬件_固件_内核协同设计/ACPI/ACPI_overview.html"><strong aria-hidden="true">6.4.1.</strong> ACPI overview</a></li><li class="chapter-item "><a href="05__贯通篇__硬件_固件_内核协同设计/ACPI/CEDT.html"><strong aria-hidden="true">6.4.2.</strong> CEDT</a></li></ol></li></ol></li><li class="chapter-item "><a href="06__工程篇__固件质量_管理与生命周期/index.html"><strong aria-hidden="true">7.</strong> 工程篇  固件质量 管理与生命周期</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="06__工程篇__固件质量_管理与生命周期/固件全生命周期管理.html"><strong aria-hidden="true">7.1.</strong> 固件全生命周期管理</a></li><li class="chapter-item "><a href="06__工程篇__固件质量_管理与生命周期/如何交付高质量固件.html"><strong aria-hidden="true">7.2.</strong> 如何交付高质量固件</a></li><li class="chapter-item "><a href="06__工程篇__固件质量_管理与生命周期/持续集成与持续发布在固件开发中的实践.html"><strong aria-hidden="true">7.3.</strong> 持续集成与持续发布在固件开发中的实践</a></li></ol></li><li class="chapter-item "><a href="07__扩展篇__分布式计算与AI基础设施/index.html"><strong aria-hidden="true">8.</strong> 扩展篇  分布式计算与AI基础设施</a></li><li class="chapter-item "><a href="08__视野篇__从芯片到云的战略思考/index.html"><strong aria-hidden="true">9.</strong> 视野篇  从芯片到云的战略思考</a></li></ol>';
        // Set the current, active page, and reveal it if it's hidden
        let current_page = document.location.href.toString().split("#")[0].split("?")[0];
        if (current_page.endsWith("/")) {
            current_page += "index.html";
        }
        var links = Array.prototype.slice.call(this.querySelectorAll("a"));
        var l = links.length;
        for (var i = 0; i < l; ++i) {
            var link = links[i];
            var href = link.getAttribute("href");
            if (href && !href.startsWith("#") && !/^(?:[a-z+]+:)?\/\//.test(href)) {
                link.href = path_to_root + href;
            }
            // The "index" page is supposed to alias the first chapter in the book.
            if (link.href === current_page || (i === 0 && path_to_root === "" && current_page.endsWith("/index.html"))) {
                link.classList.add("active");
                var parent = link.parentElement;
                if (parent && parent.classList.contains("chapter-item")) {
                    parent.classList.add("expanded");
                }
                while (parent) {
                    if (parent.tagName === "LI" && parent.previousElementSibling) {
                        if (parent.previousElementSibling.classList.contains("chapter-item")) {
                            parent.previousElementSibling.classList.add("expanded");
                        }
                    }
                    parent = parent.parentElement;
                }
            }
        }
        // Track and set sidebar scroll position
        this.addEventListener('click', function(e) {
            if (e.target.tagName === 'A') {
                sessionStorage.setItem('sidebar-scroll', this.scrollTop);
            }
        }, { passive: true });
        var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
        sessionStorage.removeItem('sidebar-scroll');
        if (sidebarScrollTop) {
            // preserve sidebar scroll position when navigating via links within sidebar
            this.scrollTop = sidebarScrollTop;
        } else {
            // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
            var activeSection = document.querySelector('#sidebar .active');
            if (activeSection) {
                activeSection.scrollIntoView({ block: 'center' });
            }
        }
        // Toggle buttons
        var sidebarAnchorToggles = document.querySelectorAll('#sidebar a.toggle');
        function toggleSection(ev) {
            ev.currentTarget.parentElement.classList.toggle('expanded');
        }
        Array.from(sidebarAnchorToggles).forEach(function (el) {
            el.addEventListener('click', toggleSection);
        });
    }
}
window.customElements.define("mdbook-sidebar-scrollbox", MDBookSidebarScrollbox);
